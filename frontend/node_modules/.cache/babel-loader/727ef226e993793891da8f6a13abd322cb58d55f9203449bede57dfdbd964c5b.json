{"ast":null,"code":"var _jsxFileName = \"D:\\\\MERN\\\\new\\\\Counselling System\\\\frontend\\\\src\\\\Components\\\\FetchRegistrations.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FetchRegistrations = () => {\n  _s();\n  const [res, setRes] = useState([]);\n  const [formData, setFormData] = useState({\n    name: '',\n    role: '',\n    email: '',\n    password: ''\n  });\n  const fetchData = async () => {\n    axios.get('http://localhost:8080/retrieve').then(response => {\n      setRes(response.data);\n      console.log(response.data);\n    });\n  };\n  useEffect(() => {\n    fetchData();\n  }, []);\n  const updateData = async id => {\n    const res = await axios.put(`http://localhost:8080/users/${id}`, formData);\n    fetchData();\n    console.log(res.data);\n  };\n  const handleDelete = async id => {\n    await axios.delete(`http://localhost:8080/users/${id}`).then(response => {\n      console.log(response.data);\n    });\n    fetchData();\n  };\n  const changeHandler = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"center\", {\n    children: /*#__PURE__*/_jsxDEV(\"table\", {\n      border: 1,\n      children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Id\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Role\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), res.map((item, index) => {\n        return /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: item._id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: item.role\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: item.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: item.password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"name\",\n              placeholder: \"New Name\",\n              onChange: changeHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"role\",\n              placeholder: \"New Role\",\n              onChange: changeHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"email\",\n              placeholder: \"New Email\",\n              onChange: changeHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              name: \"password\",\n              placeholder: \"New Password\",\n              onChange: changeHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => updateData(item._id),\n              children: \"update\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleDelete(item._id),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 25\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n};\n_s(FetchRegistrations, \"2I2YyBSal1+aunQmPS0hr+gJs3Y=\");\n_c = FetchRegistrations;\nexport default FetchRegistrations;\nvar _c;\n$RefreshReg$(_c, \"FetchRegistrations\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","FetchRegistrations","_s","res","setRes","formData","setFormData","name","role","email","password","fetchData","get","then","response","data","console","log","updateData","id","put","handleDelete","delete","changeHandler","e","target","value","children","border","fileName","_jsxFileName","lineNumber","columnNumber","map","item","index","_id","type","placeholder","onChange","onClick","_c","$RefreshReg$"],"sources":["D:/MERN/new/Counselling System/frontend/src/Components/FetchRegistrations.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst FetchRegistrations = () => {\r\n    const [res, setRes] = useState([]);\r\n    const [formData,setFormData]=useState({name:'',role:'',email:'',password:''})\r\n\r\n const fetchData= async()=>{ \r\n        axios.get('http://localhost:8080/retrieve', )\r\n            .then(response => {\r\n                setRes(response.data);\r\n                console.log(response.data);\r\n            })}\r\n            useEffect(()=>{\r\n                fetchData();\r\n            \r\n    }, \r\n    [])\r\nconst updateData=async (id)=>{ \r\nconst res=await axios.put(`http://localhost:8080/users/${id}`,formData)\r\nfetchData()\r\nconsole.log(res.data)\r\n    \r\n}\r\nconst handleDelete = async (id)=>{\r\n  await axios.delete(`http://localhost:8080/users/${id}`)\r\n  .then((response)=>{\r\n    console.log(response.data)\r\n  })\r\n  fetchData()\r\n}\r\nconst changeHandler=(e)=>{\r\n    setFormData({...formData,[e.target.name]:e.target.value});\r\n};\r\n\r\n    return (\r\n        \r\n        <center>\r\n        <table border={1}>\r\n                <tr>\r\n                    <th>Id</th>\r\n                    <th>Name</th>\r\n                    <th>Role</th>\r\n                    \r\n                    <th>Email</th>\r\n                    <th>Password</th>\r\n                </tr>\r\n                {res.map((item,index) =>{\r\n                    return(\r\n                        <tr key={index}>\r\n                          <td>{item._id}</td>\r\n                          <td>{item.name}</td>\r\n                          <td>{item.role}</td>\r\n                         \r\n                          <td>{item.email}</td>\r\n                          <td>{item.password}</td>\r\n                        <td>\r\n                           \r\n                            <input type='text' name='name' placeholder='New Name' onChange={changeHandler}/>\r\n                            <input type='text' name='role' placeholder='New Role' onChange={changeHandler}/>\r\n                            <input type='text' name='email' placeholder='New Email' onChange={changeHandler}/>\r\n                            <input type='password' name='password' placeholder='New Password' onChange={changeHandler}/>\r\n                            <button onClick={()=>updateData(item._id)}>update</button>\r\n                            <button onClick={()=>handleDelete(item._id)}>Delete</button>\r\n                        </td>\r\n                    </tr>\r\n                    )\r\n                })}           \r\n        </table>\r\n        </center>\r\n    );\r\n};\r\n\r\nexport default FetchRegistrations;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}